"use strict";(self.webpackChunksnake_eating=self.webpackChunksnake_eating||[]).push([[10],{10:(t,i,e)=>{e.r(i),e.d(i,{default:()=>C});var n=e(872);var o=e(510),r=function(t,i){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e])},r(t,i)};function s(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function e(){this.constructor=t}r(t,i),t.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)}var a=function(){return a=Object.assign||function(t){for(var i,e=1,n=arguments.length;e<n;e++)for(var o in i=arguments[e])Object.prototype.hasOwnProperty.call(i,o)&&(t[o]=i[o]);return t},a.apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;var l=function(t,i,e,n,o){var r=Math.cos(e),s=Math.sin(e);return[+((n-t)*r-(o-i)*s+t).toFixed(7),+((n-t)*s+(o-i)*r+i).toFixed(7)]};var h=function(t,i,e,n,o){return t.beginPath(),t.translate(e,n),t.rotate(o),t.font=i.fontStyle+" "+i.fontWeight+" "+i.fontSize+"px "+i.fontFamily,t},_=function(t,i,e,n,o,r,s,a){if(o>r){var h=o;o=r,r=h}return s%=2*Math.PI,a>=1.999999*Math.PI||a<=1.999999*-Math.PI?a=2*Math.PI:a%=2*Math.PI,function(t,i,e,n,o,r,s){i<0&&(t+=i,i*=-1);var a,h=[];a=l(0,0,t,o,0),h[0]=a[0],h[1]=a[1],a=l(0,0,i,a[0],a[1]),h[2]=a[0],h[3]=a[1],a=l(0,0,t,r,0),h[4]=a[0],h[5]=a[1],a=l(0,0,i,a[0],a[1]),h[6]=a[0],h[7]=a[1],s(t,t+i,h[0]+e,h[1]+n,h[4]+e,h[5]+n,h[2]+e,h[3]+n,h[6]+e,h[7]+n,.5*(r-o))}(s,a,e,n,o,r,(function(s,a,l,h,_,c,f,p,u,g,d){d<0&&(d=-d),t.beginPath(),t.moveTo(l,h),t.arc(e,n,o,s,a,!1),"round"==i.arcEndCap?t.arc(.5*(f+u),.5*(p+g),d,a-Math.PI,a,!0):"-round"==i.arcEndCap?t.arc(.5*(f+u),.5*(p+g),d,a-Math.PI,a,!1):t.lineTo(u,g),t.arc(e,n,r,a,s,!0),"round"==i.arcStartCap?t.arc(.5*(l+_),.5*(h+c),d,s,s-Math.PI,!0):"-round"==i.arcStartCap?t.arc(.5*(l+_),.5*(h+c),d,s,s-Math.PI,!1):t.lineTo(l,h)})),"butt"==i.arcStartCap&&t.closePath(),t},c=function(t,i,e,n){return t.beginPath(),t.moveTo(i+n,e),t.arc(i,e,n,0,2*Math.PI),t},f=function(t,i,e,n,o,r){t.beginPath();var s=[];if(Array.isArray(i.rectRadius)&&i.rectRadius.length>0)for(var a=0;a<4;a++)s.push.apply(s,i.rectRadius);return s.length>=4?(t.arc(e+s[0],n+s[0],s[0],Math.PI,1.5*Math.PI),t.arc(e+o-s[1],n+s[1],s[1],1.5*Math.PI,0),t.arc(e+o-s[2],n+r-s[2],s[2],0,.5*Math.PI),t.arc(e+s[3],n+r-s[3],s[3],.5*Math.PI,Math.PI),t.closePath()):t.rect(e,n,o,r),t};function p(t,i,e,n,o){for(var r=0,s="",a=0;a<i.length;a++)t.measureText(s+i[a]).width>e||/\n$/.test(s)?(o(s,((r+=1)-.5)*n),s=i[a]):a==i.length-1?(r+=1,o(s+i[a],(r-.5)*n)):s+=i[a];return r*n}function u(t){var i={fontSize:16,fontFamily:"sans-serif",fontWeight:400,fontStyle:"normal",arcStartCap:"butt",arcEndCap:"butt",rectRadius:[]},e={fillStyle:"black",strokeStyle:"black",lineWidth:1,lineCap:"butt",lineJoin:"miter",lineDash:[],textAlign:"left",textBaseline:"middle",shadowBlur:0,shadowColor:"black"};return"special"==t?i:"init"==t?e:a(a({},i),e)}var g=function(){function t(t,i,e,n,o){void 0===i&&(i={}),void 0===n&&(n=!1),this.__region=null,this.__onlyRegion=!1,this.__onlyView=!1,this.__specialConfig=u("special"),this.__initConfig=u("init"),this.painter=t.getContext("2d",i),this.__region=e,this.__isPainter=n,this.painter.textBaseline="middle",this.painter.textAlign="left"}return t.prototype.useConfig=function(t,i){if(this.__region&&!this.__onlyView&&["fillStyle","strokeStyle","shadowBlur","shadowColor"].indexOf(t)<0&&this.__region.useConfig(t,i),this.__isPainter&&this.__onlyRegion)return this;if("lineDash"==t)this.painter.setLineDash&&this.painter.setLineDash(i);else if(t in this.__specialConfig)"fontSize"==t&&(i=Math.round(i)),this.__specialConfig[t]=i;else{if(!(t in this.__initConfig))throw new Error("Illegal configuration item of painter : "+t+" !");this.painter[t]=i}return this},t.prototype.fillText=function(t,i,e,n){return void 0===n&&(n=0),this.__region&&!this.__onlyView&&this.__region.fillText(t,i,e,n),this.__isPainter&&this.__onlyRegion||(this.painter.save(),h(this.painter,this.__specialConfig,i,e,n).fillText(t,0,0),this.painter.restore()),this},t.prototype.strokeText=function(t,i,e,n){return void 0===n&&(n=0),this.__region&&!this.__onlyView&&this.__region.strokeText(t,i,e,n),this.__isPainter&&this.__onlyRegion||(this.painter.save(),h(this.painter,this.__specialConfig,i,e,n).strokeText(t,0,0),this.painter.restore()),this},t.prototype.fullText=function(t,i,e,n){return void 0===n&&(n=0),this.__region&&!this.__onlyView&&this.__region.fullText(t,i,e,n),this.__isPainter&&this.__onlyRegion||(this.painter.save(),h(this.painter,this.__specialConfig,i,e,n),this.painter.fillText(t,0,0),this.painter.strokeText(t,0,0),this.painter.restore()),this},t.prototype.fillTexts=function(t,i,e,n,o,r){var s=this;void 0===o&&(o=1.2),void 0===r&&(r=0);var a=0;if(this.__region&&!this.__onlyView&&(a=this.__region.fillTexts(t,i,e,n,o)),this.__isPainter&&this.__onlyRegion)return a;this.painter.save(),h(this.painter,this.__specialConfig,i,e,r);var l=p(this.painter,t,n,this.__specialConfig.fontSize*o,(function(t,i){s.painter.fillText(t,0,i)}));return this.painter.restore(),l},t.prototype.strokeTexts=function(t,i,e,n,o,r){var s=this;void 0===o&&(o=1.2),void 0===r&&(r=0);var a=0;if(this.__region&&!this.__onlyView&&(a=this.__region.fillTexts(t,i,e,n,o)),this.__isPainter&&this.__onlyRegion)return a;this.painter.save(),h(this.painter,this.__specialConfig,i,e,r);var l=p(this.painter,t,n,this.__specialConfig.fontSize*o,(function(t,i){s.painter.strokeText(t,0,i)}));return this.painter.restore(),l},t.prototype.fullTexts=function(t,i,e,n,o,r){var s=this;void 0===o&&(o=1.2),void 0===r&&(r=0);var a=0;if(this.__region&&!this.__onlyView&&(a=this.__region.fillTexts(t,i,e,n,o)),this.__isPainter&&this.__onlyRegion)return a;this.painter.save(),h(this.painter,this.__specialConfig,i,e,r);var l=p(this.painter,t,n,this.__specialConfig.fontSize*o,(function(t,i){s.painter.fillText(t,0,i),s.painter.strokeText(t,0,i)}));return this.painter.restore(),l},t.prototype.beginPath=function(){return this.__region&&!this.__onlyView&&this.__region.beginPath(),this.__isPainter&&this.__onlyRegion||this.painter.beginPath(),this},t.prototype.closePath=function(){return this.__region&&!this.__onlyView&&this.__region.closePath(),this.__isPainter&&this.__onlyRegion||this.painter.closePath(),this},t.prototype.moveTo=function(t,i){return this.__region&&!this.__onlyView&&this.__region.moveTo(t,i),this.__isPainter&&this.__onlyRegion||this.painter.moveTo(Math.round(t)+.5,Math.round(i)+.5),this},t.prototype.lineTo=function(t,i){return this.__region&&!this.__onlyView&&this.__region.lineTo(t,i),this.__isPainter&&this.__onlyRegion||this.painter.lineTo(Math.round(t)+.5,Math.round(i)+.5),this},t.prototype.arc=function(t,i,e,n,o){return this.__region&&!this.__onlyView&&this.__region.arc(t,i,e,n,o),this.__isPainter&&this.__onlyRegion||this.painter.arc(t,i,e,n,n+o,o<0),this},t.prototype.fill=function(){return this.__region&&!this.__onlyView&&this.__region.fill(),this.__isPainter&&this.__onlyRegion||this.painter.fill(),this},t.prototype.stroke=function(){return this.__region&&!this.__onlyView&&this.__region.stroke(),this.__isPainter&&this.__onlyRegion||this.painter.stroke(),this},t.prototype.full=function(){return this.__region&&!this.__onlyView&&this.__region.full(),this.__isPainter&&this.__onlyRegion||(this.painter.fill(),this.painter.stroke()),this},t.prototype.save=function(){return this.__region&&!this.__onlyView&&this.__region.save(),this.__isPainter&&this.__onlyRegion||this.painter.save(),this},t.prototype.restore=function(){return this.__region&&!this.__onlyView&&this.__region.restore(),this.__isPainter&&this.__onlyRegion||this.painter.restore(),this},t.prototype.clip=function(){return this.__region&&!this.__onlyView&&this.__region.clip(),this.__isPainter&&this.__onlyRegion||this.painter.clip(),this},t.prototype.quadraticCurveTo=function(t,i,e,n){return this.__region&&!this.__onlyView&&this.__region.quadraticCurveTo(t,i,e,n),this.__isPainter&&this.__onlyRegion||this.painter.quadraticCurveTo(t,i,e,n),this},t.prototype.bezierCurveTo=function(t,i,e,n,o,r){return this.__region&&!this.__onlyView&&this.__region.bezierCurveTo(t,i,e,n,o,r),this.__isPainter&&this.__onlyRegion||this.painter.bezierCurveTo(t,i,e,n,o,r),this},t.prototype.clearRect=function(t,i,e,n){return this.__region&&!this.__onlyView&&this.__region.clearRect(t,i,e,n),this.__isPainter&&this.__onlyRegion||this.painter.clearRect(t,i,e,n),this},t.prototype.clearCircle=function(t,i,e){return this.__region&&!this.__onlyView&&this.__region.clearCircle(t,i,e),this.__isPainter&&this.__onlyRegion||(this.painter.beginPath(),this.painter.globalCompositeOperation="destination-out",this.painter.arc(t,i,e,0,2*Math.PI),this.painter.fill(),this.painter.globalCompositeOperation="source-over",this.painter.closePath()),this},t.prototype.fillArc=function(t,i,e,n,o,r){return this.__region&&!this.__onlyView&&this.__region.fillArc(t,i,e,n,o,r),this.__isPainter&&this.__onlyRegion||_(this.painter,this.__specialConfig,t,i,e,n,o,r).fill(),this},t.prototype.strokeArc=function(t,i,e,n,o,r){return this.__region&&!this.__onlyView&&this.__region.strokeArc(t,i,e,n,o,r),this.__isPainter&&this.__onlyRegion||_(this.painter,this.__specialConfig,t,i,e,n,o,r).stroke(),this},t.prototype.fullArc=function(t,i,e,n,o,r){return this.__region&&!this.__onlyView&&this.__region.fullArc(t,i,e,n,o,r),this.__isPainter&&this.__onlyRegion||(_(this.painter,this.__specialConfig,t,i,e,n,o,r),this.painter.fill(),this.painter.stroke()),this},t.prototype.fillCircle=function(t,i,e){return this.__region&&!this.__onlyView&&this.__region.fillCircle(t,i,e),this.__isPainter&&this.__onlyRegion||c(this.painter,t,i,e).fill(),this},t.prototype.strokeCircle=function(t,i,e){return this.__region&&!this.__onlyView&&this.__region.strokeCircle(t,i,e),this.__isPainter&&this.__onlyRegion||c(this.painter,t,i,e).stroke(),this},t.prototype.fullCircle=function(t,i,e){return this.__region&&!this.__onlyView&&this.__region.fullCircle(t,i,e),this.__isPainter&&this.__onlyRegion||(c(this.painter,t,i,e),this.painter.fill(),this.painter.stroke()),this},t.prototype.fillRect=function(t,i,e,n){return this.__region&&!this.__onlyView&&this.__region.fillRect(t,i,e,n),this.__isPainter&&this.__onlyRegion||f(this.painter,this.__specialConfig,t,i,e,n).fill(),this},t.prototype.strokeRect=function(t,i,e,n){return this.__region&&!this.__onlyView&&this.__region.strokeRect(t,i,e,n),this.__isPainter&&this.__onlyRegion||f(this.painter,this.__specialConfig,t,i,e,n).stroke(),this},t.prototype.fullRect=function(t,i,e,n){return this.__region&&!this.__onlyView&&this.__region.fullRect(t,i,e,n),this.__isPainter&&this.__onlyRegion||(f(this.painter,this.__specialConfig,t,i,e,n),this.painter.fill(),this.painter.stroke()),this},t.prototype.draw=function(){return Promise.resolve()},t.prototype.drawImage=function(t,i,e,n,o,r){var s=this;return void 0===r&&(r=!1),new Promise((function(a){if(s.__region&&!s.__onlyView&&s.__region.fillRect(i,e,n,o),s.__isPainter&&s.__onlyRegion)a({});else if("string"!=typeof t||r)s.painter.drawImage(t,i,e,n,o),a({});else{var l=new Image;l.onload=function(){s.painter.drawImage(l,i,e,n,o),a({})},l.src=t}}))},t.prototype.translate=function(t,i){return this.painter.translate(t,i),this},t.prototype.rotate=function(t){return this.painter.rotate(t),this},t.prototype.install=function(t){var i=this,e=function(e){if(e in n)throw new Error("VISLite Canvas:Method already exists and cannot be overwritten.");n[e]=function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];var r=t[e].apply(i,n);return null!=r?r:i}},n=this;for(var o in t)e(o);return this},t}();var d=function(t,i){var e={value:function(){return t},setColor:function(n,o){return t.addColorStop(i?i(n):n,o),e}};return e};function y(t,i){for(var e in t)i[e]=t[e];return i}var v,b=function(t){function i(i,e,n,o){void 0===n&&(n={}),void 0===o&&(o=1);var r=t.call(this,i,n,e?new g(e,{willReadFrequently:!0}):void 0,!0,o)||this;return r.name="Canvas",r.__regionList={},r.__regionAssemble=function(t,i,e,n){for(var o=[],r=0;r<n;r++)o[r]=t;return function(){for(var r=0;r<n;r++){if(o[r]+e<i){o[r]=+(o[r]+e).toFixed(7);break}r<n-1&&(o[r]=t)}return o}}(0,255,10,3),r.__scaleSize=o,r.setRegion(""),r}return s(i,t),i.prototype.config=function(t){for(var i in t)this.useConfig(i,t[i]);return this},i.prototype.reset=function(t){return void 0===t&&(t={}),this.config(y(t,u())),this},i.prototype.onlyRegion=function(t){return this.__onlyRegion=t,this},i.prototype.onlyView=function(t){return this.__onlyView=t,this},i.prototype.setRegion=function(t){if(this.__region)if(t){if(null==this.__regionList[t]){var i=this.__regionAssemble();this.__regionList[t]="rgb("+i[0]+","+i[1]+","+i[2]+")"}this.__region.useConfig("fillStyle",this.__regionList[t])&&this.__region.useConfig("strokeStyle",this.__regionList[t])}else this.__region.useConfig("fillStyle","#000000")&&this.__region.useConfig("strokeStyle","#000000");return this},i.prototype.getRegion=function(t,i){var e=this;return new Promise((function(n){var o=e.__region?e.__region.painter.getImageData(t-.5,i-.5,1,1):{data:[0,0,0,0]},r=o.data,s=function(){if(e.__region)for(var t in e.__regionList)if("rgb("+r[0]+","+r[1]+","+r[2]+")"==e.__regionList[t]){n(t);break}n("")};r?s():o.then((function(t){r=t,s()}))}))},i.prototype.textWidth=function(t){this.painter.save(),h(this.painter,this.__specialConfig,0,0,0);var i=this.painter.measureText(t+"").width;return this.painter.restore(),i},i.prototype.getContext=function(t){return void 0===t&&(t=!1),t?this.__region?this.__region.painter:null:this.painter},i.prototype.getInfo=function(){return{width:this.painter.canvas.width/this.__scaleSize,height:this.painter.canvas.height/this.__scaleSize}},i.prototype.createLinearGradient=function(t,i,e,n){return function(t,i,e,n,o){var r=t.createLinearGradient(i,e,n,o);return d(r)}(this.painter,t,i,e,n)},i.prototype.createRadialGradient=function(t,i,e){return function(t,i,e,n){var o=t.createRadialGradient(i,e,0,i,e,n);return d(o)}(this.painter,t,i,e)},i.prototype.createConicGradient=function(t,i,e,n){return function(t,i,e,n,o){var r=t.createConicGradient(n,i,e);return d(r,o?function(t){return o/(2*Math.PI)*t}:void 0)}(this.painter,t,i,e,n)},i.prototype.getColor=function(t,i){t*=this.__scaleSize,i*=this.__scaleSize;var e=this.painter.getImageData(t-.5,i-.5,1,1).data;return"rgba("+e[0]+","+e[1]+","+e[2]+","+e[3]+")"},i}(g),w=function(t){function i(i,e,n,o){void 0===e&&(e={}),void 0===n&&(n=0),void 0===o&&(o=0);var r=this;if(!i)throw new Error("VISLite Canvas:The mount point requires an HTMLElement type but encountered null.");e=y(e,{scale:2,region:!0,willReadFrequently:!1}),n=n||i.clientWidth,o=o||i.clientHeight;var s,a=null,l=i;l._vislite_canvas_?(s=l._vislite_canvas_[0],a=l._vislite_canvas_[1]):(s=document.createElement("canvas"),i.appendChild(s),e.region&&(a=document.createElement("canvas")),l._vislite_canvas_=[s,a],i.setAttribute("vislite","Canvas"));for(var h=[a,s],_=0;_<h.length;_++){var c=h[_];c&&(c.style.width=n+"px",c.setAttribute("width",(1===_?e.scale:1)*n+""),c.style.height=o+"px",c.setAttribute("height",(1===_?e.scale:1)*o+""))}return(r=t.call(this,s,a,{willReadFrequently:e.willReadFrequently},e.scale)||this).__canvas=s,r.__el=i,r.painter.scale(e.scale,e.scale),r}return s(i,t),i.prototype.toDataURL=function(t,i){var e=this;return void 0===t&&(t="image/png"),void 0===i&&(i=.92),new Promise((function(n){n(e.__canvas.toDataURL(t,i))}))},i.prototype.bind=function(t,i){var e=this;return this.__el.addEventListener(t,(function(t){e.getRegion(t.offsetX,t.offsetY).then((function(e){i(e,t.offsetX,t.offsetY)}))})),this},i}(b),P={48:[0,")"],49:[1,"!"],50:[2,"@"],51:[3,"#"],52:[4,"$"],53:[5,"%"],54:[6,"^"],55:[7,"&"],56:[8,"*"],57:[9,"("],96:[0,0],97:1,98:2,99:3,100:4,101:5,102:6,103:7,104:8,105:9,106:"*",107:"+",109:"-",110:".",111:"/",65:["a","A"],66:["b","B"],67:["c","C"],68:["d","D"],69:["e","E"],70:["f","F"],71:["g","G"],72:["h","H"],73:["i","I"],74:["j","J"],75:["k","K"],76:["l","L"],77:["m","M"],78:["n","N"],79:["o","O"],80:["p","P"],81:["q","Q"],82:["r","R"],83:["s","S"],84:["t","T"],85:["u","U"],86:["v","V"],87:["w","W"],88:["x","X"],89:["y","Y"],90:["z","Z"],37:"left",38:"up",39:"right",40:"down",33:"page up",34:"page down",35:"end",36:"home",16:"shift",17:"ctrl",18:"alt",91:"command",92:"command",93:"command",224:"command",9:"tab",20:"caps lock",32:"spacebar",8:"backspace",13:"enter",27:"esc",46:"delete",45:"insert",144:"number lock",145:"scroll lock",12:"clear",19:"pause",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",189:["-","_"],187:["=","+"],219:["[","{"],221:["]","}"],220:["\\","|"],186:[";",":"],222:["'",'"'],188:[",","<"],190:[".",">"],191:["/","?"],192:["`","~"]},m=["shift","ctrl","alt"],k=function(t){var i=(t=t||window.event).keyCode||t.which,e=P[i]||i;if(e){e.constructor!==Array&&(e=[e,e]);var n=e[0],o=t.shiftKey?"shift+":"",r=t.altKey?"alt+":"",s="",a=(t.ctrlKey?"ctrl+":"")+o+r;m.indexOf(e[0])>=0&&(e[0]=e[1]="");var l=t.code=="Key"+t.key&&!o;return s=a+(""==a&&l?e[1]:e[0]),""==e[0]&&(s=s.replace(/\+$/,"")),""==s?n:s}};const C=(0,n.defineElement)({template:[{name:"div",attr:{class:"welcome-view"},children:[{name:"div",attr:{id:"mycanvas"},children:[]},{name:"div",attr:{"z-bind:active":"isRuning?'no':'yes'"},children:[{name:"span",attr:{"z-bind":"tips"},children:[]},{name:"button",attr:{"z-on:click":"beginGame"},children:["\n            开始游戏\n        "]}]}]},{name:"a",attr:{href:"https://github.com/bcofoods/snake-eating",target:"_blank"},children:["源码地址： https://github.com/bcofoods/snake-eating"]}],style:{content:o.A},data:()=>({tips:(0,n.ref)("温馨提示：点击「开始游戏」启动运行！"),isRuning:(0,n.ref)(!1),foodBlock:[],blocks:[],mulpD:"",headEatAt:0}),created:function(){v=new w(document.getElementById("mycanvas")),this.updateView();var t,i,e,n,o=this;t=function(t){switch(t){case"up":o.mulpD=[0,-1];break;case"down":o.mulpD=[0,1];break;case"left":o.mulpD=[-1,0];break;case"right":o.mulpD=[1,0]}},i=!1,e=function(e){var n=k(e);/command/.test(n)&&(i=!0),!i||/command/.test(n)||/ctrl/.test(n)||(n="ctrl+"+n),t(n.replace(/command/g,"ctrl").replace("ctrl+ctrl","ctrl"),e)},n=function(t){var e=k(t);/command/.test(e)&&(i=!1)},document.body.addEventListener("keydown",e,!1),document.body.addEventListener("keyup",n,!1)},methods:{updateView:function(){var t;for(v.clearRect(0,0,500,500),v.config({strokeStyle:"rgba(255,255,255,0.04)",lineWidth:1}),t=0;t<25;t++)v.beginPath().moveTo(0,20*t).lineTo(500,20*t).stroke().beginPath().moveTo(20*t,0).lineTo(20*t,500).stroke();var i=Date.now();if(this.foodBlock&&2===this.foodBlock.length){var e=20*this.foodBlock[0]+10,n=20*this.foodBlock[1]+10,o=8*(1+.12*Math.sin(i/160));v.config({shadowBlur:14,shadowColor:"rgba(255,80,80,0.9)",fillStyle:"rgba(255,80,80,1)"}).beginPath().arc(e,n,o,0,2*Math.PI).fill(),v.config({shadowBlur:0,fillStyle:"rgba(255,220,220,0.95)"}).beginPath().arc(e,n,.45*o,0,2*Math.PI).fill()}for(t=0;t<this.blocks.length;t++){var r=this.blocks[t],s=20*r[0]+10,a=20*r[1]+10,l=0===t,h=t/Math.max(1,this.blocks.length-1),_="hsl("+(140-Math.floor(60*h))+",85%,"+(l?42:62-Math.floor(20*h))+"%)";if(l){var c=this.mulpD&&2===this.mulpD.length?this.mulpD:[0,-1],f=c[0],p=c[1];v.config({shadowBlur:12,shadowColor:"rgba(0,0,0,0.5)",fillStyle:_}).beginPath().arc(s,a,12,0,2*Math.PI).fill();v.config({shadowBlur:0,fillStyle:"hsl(100,40%,62%)"}).beginPath().arc(s,a+6,9,0,Math.PI,!0).fill(),v.config({strokeStyle:"rgba(0,0,0,0.28)",lineWidth:1}).beginPath().moveTo(s,a-10).lineTo(s,a+8).stroke();var u=i%2200<160,g=s-2*f-2*p,d=a-2*p+2*f;if(this.foodBlock&&2===this.foodBlock.length){var y=20*this.foodBlock[0]+10-s,b=20*this.foodBlock[1]+10-a,w=Math.sqrt(y*y+b*b)||1;g=s+y/w*4,d=a+b/w*4}v.config({shadowBlur:0,fillStyle:"rgba(255,255,255,0.12)"}).beginPath().arc(g,d,6,0,2*Math.PI).fill(),v.config({fillStyle:"rgba(255,255,255,0.18)"}).beginPath().arc(s+4*f,a+4*p,2.4,0,2*Math.PI).fill();var P=s+3*f-3*p,m=a+3*p+3*f,k=s+3*f+3*p,C=a+3*p-3*f;u?v.config({strokeStyle:"#071014",lineWidth:2}).beginPath().moveTo(P-3,m).lineTo(P+3,m).stroke().beginPath().moveTo(k-3,C).lineTo(k+3,C).stroke():(v.config({fillStyle:"#f6e05e"}).beginPath().arc(P,m,6.2,0,2*Math.PI).fill().beginPath().arc(k,C,6.2,0,2*Math.PI).fill(),v.config({fillStyle:"#dfbf3a"}).beginPath().arc(P,m,4.6,0,2*Math.PI).fill().beginPath().arc(k,C,4.6,0,2*Math.PI).fill(),v.config({fillStyle:"#070707"}).beginPath().arc(P,m,2.4,0,2*Math.PI).fill().beginPath().arc(k,C,2.4,0,2*Math.PI).fill(),v.config({fillStyle:"rgba(255,255,255,0.9)"}).beginPath().arc(P-1.2,m-1.6,.9,0,2*Math.PI).fill().beginPath().arc(k-1.2,C-1.6,.9,0,2*Math.PI).fill());var x=2+4*Math.abs(Math.sin(i/180))*(Math.abs(f)+Math.abs(p)||1);if(this.headEatAt){var R=i-this.headEatAt;if(R<420){var T=1-R/420;x+=T*T*8}else this.headEatAt=0}var M=-p,S=s+f*(7+x),I=a+p*(7+x),V=s+3*M-2*f,B=a+3*f-2*p,A=s-3*M-2*f,E=a-3*f-2*p;v.config({fillStyle:"rgba(10,10,10,0.9)"}).beginPath().moveTo(S,I).lineTo(V,B).lineTo(A,E).closePath().fill();var D=a+3;if(v.config({fillStyle:"#050505"}).beginPath().arc(s-3,D,1.6,0,2*Math.PI).fill().beginPath().arc(s+3,D,1.6,0,2*Math.PI).fill(),x>4){var L=s+f*(6+x/2),z=a+p*(6+x/2),F=10+1.5*x,O=L+f*F,W=z+p*F;v.config({strokeStyle:"#b92b2b",lineWidth:2.6}).beginPath().moveTo(L,z).lineTo(O,W).stroke();var q=-p,G=f;v.config({strokeStyle:"#b92b2b",lineWidth:2.2}).beginPath().moveTo(O,W).lineTo(O+4*q,W+4*G).stroke().beginPath().moveTo(O,W).lineTo(O-4*q,W-4*G).stroke()}}else v.config({shadowBlur:0,fillStyle:_}).beginPath().arc(s,a,8,0,2*Math.PI).fill()}v.config({shadowBlur:0,shadowColor:"transparent"})},beginGame:function(){this.isRuning=!0,this.mulpD=[0,-1],this.foodBlock=[20,20],this.blocks=[[10,10],[10,11],[10,12],[10,13],[11,13],[12,13],[13,13],[14,13]],this.updateView();var t=this,i=setInterval((function(){var e=[t.blocks[0][0]+t.mulpD[0],t.blocks[0][1]+t.mulpD[1]];if(!t.isValidBlock(e))return t.isRuning=!1,clearInterval(i),void(t.tips="[分数："+(t.blocks.length-8)+"]小蛇出界或者撞到自己了。");t.blocks.unshift(e),e[0]==t.foodBlock[0]&&e[1]==t.foodBlock[1]?(t.headEatAt=Date.now(),t.foodBlock=t.newFood()):t.blocks.pop(),t.updateView()}),200)},isValidBlock:function(t){if(t[0]<0||t[0]>=25||t[1]<0||t[1]>=25)return!1;for(var i=0;i<this.blocks.length;i++)if(this.blocks[i][0]==t[0]&&this.blocks[i][1]==t[1])return!1;return!0},newFood:function(){var t,i=1;do{i>=1e4&&(this.isRuning=!1,this.tips="意外终止，系统内部错误。"),t=[+(24*Math.random()).toFixed(0),+(24*Math.random()).toFixed(0)],i+=1}while(!this.isValidBlock(t));return t}}})},510:(t,i,e)=>{e.d(i,{A:()=>a});var n=e(601),o=e.n(n),r=e(314),s=e.n(r)()(o());s.push([t.id,"a{position:fixed;left:50px;bottom:50px}.welcome-view{position:relative}.welcome-view>div{height:500px;width:500px}.welcome-view>div canvas{background-color:#0f1720;border-radius:8px;box-shadow:0 8px 24px rgba(0,0,0,.6),inset 0 1px 0 hsla(0,0%,100%,.02);display:block;margin:0 auto}.welcome-view>div{position:absolute;left:0;top:0;width:500px;height:500px;background:linear-gradient(180deg, rgba(0, 0, 0, 0.28), rgba(0, 0, 0, 0.5))}.welcome-view>div[active=no]{display:none}.welcome-view>div>span{display:inline-block;position:absolute;left:20px;top:20px;font-weight:300;color:#e6eef8;font-size:13px;text-shadow:0 1px 0 rgba(0,0,0,.4)}.welcome-view>div>button{margin:auto;display:block;background:linear-gradient(180deg, #ff6b6b, #e84343);color:#fff;width:110px;height:38px;margin-top:231px;outline:none;border:none;cursor:pointer;border-radius:20px;font-weight:600;box-shadow:0 6px 18px rgba(232,67,67,.32),inset 0 -2px 0 rgba(0,0,0,.12)}",""]);const a=s}}]);